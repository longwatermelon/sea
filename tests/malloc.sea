#include "../lib/malloc.h"

fn main() -> int {
    let too:byte* = malloc(16777216 + 1);
    if (too!=0) { return 1; }

    let a:int* = malloc(4*sizeof(int));
    a[0]=1; a[1]=2; a[2]=3; a[3]=4;
    let sum:int = a[0]+a[1]+a[2]+a[3];

    a = realloc(a, 8*sizeof(int));
    a[4]=5; a[5]=6; a[6]=7; a[7]=8;
    sum = sum + a[4]+a[5]+a[6]+a[7];

    free(a);
    return sum;
}

